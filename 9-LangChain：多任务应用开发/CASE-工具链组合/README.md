# LangChain工具链组合示例

本项目展示了如何使用LangChain创建自定义工具链，实现多任务处理能力。

## 文件说明

### 1. `1-simple_toolchain.py`
原始的LangChain工具链实现，包含：
- 文本分析工具：分析文本字数、字符数和情感倾向
- 数据转换工具：在JSON和CSV格式之间转换
- 文本处理工具：查找、替换、统计等操作

**注意：** 此文件需要有效的通义千问API密钥才能运行。

### 2. `1-simple_toolchain_demo.py`
不依赖外部API的演示版本，展示工具链的核心功能：
- 完全本地运行，无需API密钥
- 包含相同的工具功能
- 提供简单的任务解析和执行逻辑

## 工具功能

### 文本分析工具
- **功能：** 分析文本内容，提取统计信息
- **输入：** 文本字符串
- **输出：** 字数、字符数、情感倾向分析

### 数据转换工具
- **功能：** 在不同数据格式之间转换
- **支持转换：** JSON ↔ CSV
- **输入：** 数据字符串、输入格式、输出格式
- **输出：** 转换后的数据

### 文本处理工具
- **功能：** 处理文本内容的各种操作
- **支持操作：**
  - `count_lines`: 统计行数
  - `find_text`: 查找文本
  - `replace_text`: 替换文本

## 使用方法

### 运行演示版本
```bash
python 1-simple_toolchain_demo.py
```

### 运行完整版本（需要API密钥）
1. 在 `1-simple_toolchain.py` 中设置有效的通义千问API密钥
2. 运行：
```bash
python 1-simple_toolchain.py
```

## 示例任务

### 示例1：文本分析与处理
```
分析以下文本的情感倾向，并统计其中的行数：
'这个产品非常好用，我很喜欢它的设计，使用体验非常棒！
价格也很合理，推荐大家购买。
客服态度也很好，解答问题很及时。'
```

### 示例2：数据格式转换
```
将以下CSV数据转换为JSON格式：
'name,age,comment
张三,25,这个产品很好
李四,30,服务态度差
王五,28,性价比高'
```

## 技术特点

1. **模块化设计：** 每个工具都是独立的类，便于扩展和维护
2. **统一接口：** 所有工具都遵循相同的接口规范
3. **错误处理：** 包含完善的异常处理机制
4. **中文支持：** 完全支持中文文本处理
5. **可扩展性：** 易于添加新的工具和功能

## 扩展建议

1. **添加更多工具：** 如文件处理、网络请求、数据库操作等
2. **改进任务解析：** 使用更智能的自然语言处理来理解任务
3. **添加工具链编排：** 支持复杂的多步骤任务
4. **集成更多LLM：** 支持不同的语言模型
5. **添加Web界面：** 提供图形化操作界面

## 依赖要求

### 演示版本
- Python 3.7+
- 标准库：`re`, `json`, `typing`

### 完整版本
- Python 3.7+
- LangChain
- 通义千问API密钥

## 注意事项

1. API密钥安全：请妥善保管API密钥，不要提交到版本控制系统
2. 版本兼容性：LangChain版本更新可能影响代码兼容性
3. 错误处理：生产环境中应添加更完善的错误处理机制
4. 性能优化：对于大量数据处理，应考虑性能优化策略 