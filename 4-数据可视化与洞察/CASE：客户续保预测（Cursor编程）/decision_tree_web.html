<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†³ç­–æ ‘ç»­ä¿é¢„æµ‹æ¨¡å‹ - æ— å½’ä¸€åŒ–å¤„ç†</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 8px;
            background: #fafafa;
            border-left: 4px solid #667eea;
        }
        .section h2 {
            color: #333;
            margin-top: 0;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .tree-container {
            width: 100%;
            height: 800px;
            overflow: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
        }
        .insights {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .insights h3 {
            color: #2c5aa0;
            margin-top: 0;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        .tree-node {
            fill: #fff;
            stroke: #333;
            stroke-width: 2px;
        }
        .tree-node-leaf {
            fill: #e8f5e8;
            stroke: #4CAF50;
        }
        .tree-node-internal {
            fill: #e3f2fd;
            stroke: #2196F3;
        }
        .tree-link {
            fill: none;
            stroke: #666;
            stroke-width: 2px;
        }
        .node-text {
            font-size: 12px;
            font-weight: bold;
        }
        .link-text {
            font-size: 10px;
            fill: #666;
        }
        .customer-groups {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .group-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .group-card h3 {
            color: #333;
            margin-top: 0;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .group-item {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }
        .renewal-rate {
            font-weight: bold;
            color: #4CAF50;
        }
        .non-renewal-rate {
            font-weight: bold;
            color: #F44336;
        }
        .feature-importance {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .feature-importance h3 {
            color: #856404;
            margin-top: 0;
        }
        .feature-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #ffc107;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 20px 0;
        }
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>å†³ç­–æ ‘ç»­ä¿é¢„æµ‹æ¨¡å‹</h1>
            <p>åŸºäºå†³ç­–æ ‘ç®—æ³•çš„å®¢æˆ·ç»­ä¿é¢„æµ‹åˆ†æ (æ— å½’ä¸€åŒ–å¤„ç†)</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>ğŸ“Š æ¨¡å‹æ¦‚è§ˆ</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">91.70%</div>
                        <div class="stat-label">å‡†ç¡®ç‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">96.42%</div>
                        <div class="stat-label">ç²¾ç¡®ç‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">93.21%</div>
                        <div class="stat-label">å¬å›ç‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">94.79%</div>
                        <div class="stat-label">F1åˆ†æ•°</div>
                    </div>
                </div>
                
                <div class="insights">
                    <h3>æ¨¡å‹ç‰¹ç‚¹</h3>
                    <ul>
                        <li><strong>æ— å½’ä¸€åŒ–å¤„ç†</strong>: ä½¿ç”¨åŸå§‹ç‰¹å¾å€¼ï¼Œä¿æŒä¸šåŠ¡å«ä¹‰</li>
                        <li><strong>æœ€å¤§æ·±åº¦</strong>: 3å±‚ï¼Œé¿å…è¿‡æ‹Ÿåˆ</li>
                        <li><strong>åˆ†å‰²æ ‡å‡†</strong>: åŸºå°¼ä¸çº¯åº¦</li>
                        <li><strong>ç‰¹å¾æ•°é‡</strong>: 10ä¸ªåŸå§‹ç‰¹å¾</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸŒ³ å†³ç­–æ ‘ç»“æ„</h2>
                <div class="code-block">
â”œâ”€ å¹´é¾„ â‰¤ 29.50 (1000æ ·æœ¬)
â”‚  â”œâ”€ å©šå§»çŠ¶å†µ â‰¤ 1.50 (222æ ·æœ¬)
â”‚  â”‚  â”œâ”€ ç†èµ”å†å² â‰¤ 0.50 (112æ ·æœ¬)
â”‚  â”‚  â”‚  â”œâ”€ é¢„æµ‹: ä¸ç»­ä¿ (92æ ·æœ¬, ç»­ä¿ç‡: 9.8%)
â”‚  â”‚  â”‚  â””â”€ é¢„æµ‹: ä¸ç»­ä¿ (20æ ·æœ¬, ç»­ä¿ç‡: 45.0%)
â”‚  â”‚  â””â”€ èŒä¸š â‰¤ 2.50 (110æ ·æœ¬)
â”‚  â”‚     â”œâ”€ é¢„æµ‹: ä¸ç»­ä¿ (23æ ·æœ¬, ç»­ä¿ç‡: 30.4%)
â”‚  â”‚     â””â”€ é¢„æµ‹: ç»­ä¿ (87æ ·æœ¬, ç»­ä¿ç‡: 87.4%)
â”‚  â””â”€ å¹´é¾„ â‰¤ 60.50 (778æ ·æœ¬)
â”‚     â”œâ”€ èŒä¸š â‰¤ 2.50 (595æ ·æœ¬)
â”‚     â”‚  â”œâ”€ é¢„æµ‹: ç»­ä¿ (129æ ·æœ¬, ç»­ä¿ç‡: 93.0%)
â”‚     â”‚  â””â”€ é¢„æµ‹: ç»­ä¿ (466æ ·æœ¬, ç»­ä¿ç‡: 100.0%)
â”‚     â””â”€ å©šå§»çŠ¶å†µ â‰¤ 1.50 (183æ ·æœ¬)
â”‚        â”œâ”€ é¢„æµ‹: ä¸ç»­ä¿ (82æ ·æœ¬, ç»­ä¿ç‡: 36.6%)
â”‚        â””â”€ é¢„æµ‹: ç»­ä¿ (101æ ·æœ¬, ç»­ä¿ç‡: 92.1%)
                </div>
                
                <div class="tree-container" id="treeContainer">
                    <svg id="treeSVG" width="1200" height="800"></svg>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸ“‹ å®¢æˆ·ç¾¤ä½“åˆ†æ</h2>
                <div class="customer-groups">
                    <div class="group-card">
                        <h3>ğŸ¯ æ„¿æ„ç»­ä¿çš„å®¢æˆ·ç¾¤ä½“</h3>
                        <div class="group-item">
                            <strong>ä¸­å¹´é«˜èŒä¸šå®¢æˆ·</strong>
                            <div class="renewal-rate">ç»­ä¿ç‡: 100% (466äºº)</div>
                            <div>å¹´é¾„: 30-60å², èŒä¸š: åŒ»ç”Ÿã€å¾‹å¸ˆã€å·¥ç¨‹å¸ˆç­‰</div>
                            <div>ç‰¹å¾: æ”¶å…¥ç¨³å®šã€é£é™©æ„è¯†å¼ºã€æ”¯ä»˜èƒ½åŠ›å¼º</div>
                        </div>
                        <div class="group-item">
                            <strong>ä¸­å¹´ä½èŒä¸šå®¢æˆ·</strong>
                            <div class="renewal-rate">ç»­ä¿ç‡: 93.0% (129äºº)</div>
                            <div>å¹´é¾„: 30-60å², èŒä¸š: ç»ç†ã€é”€å”®ã€è®¾è®¡å¸ˆç­‰</div>
                            <div>ç‰¹å¾: å¹´é¾„æˆç†Ÿã€æœ‰ä¸€å®šç»æµåŸºç¡€ã€å®¶åº­è´£ä»»é‡</div>
                        </div>
                        <div class="group-item">
                            <strong>è€å¹´å·²å©šå®¢æˆ·</strong>
                            <div class="renewal-rate">ç»­ä¿ç‡: 92.1% (101äºº)</div>
                            <div>å¹´é¾„: 60å²ä»¥ä¸Š, å·²å©š</div>
                            <div>ç‰¹å¾: å¥åº·é£é™©é«˜ã€å®¶åº­è´£ä»»æ„Ÿå¼ºã€ä¿é™©éœ€æ±‚å¼ºçƒˆ</div>
                        </div>
                        <div class="group-item">
                            <strong>å¹´è½»å·²å©šé«˜èŒä¸šå®¢æˆ·</strong>
                            <div class="renewal-rate">ç»­ä¿ç‡: 87.4% (87äºº)</div>
                            <div>å¹´é¾„: 29.5å²ä»¥ä¸‹, å·²å©š, é«˜èŒä¸šç­‰çº§</div>
                            <div>ç‰¹å¾: å®¶åº­è´£ä»»æ„Ÿå¼ºã€æ”¶å…¥ç¨³å®šã€é£é™©æ„è¯†è¾ƒå¼º</div>
                        </div>
                    </div>
                    
                    <div class="group-card">
                        <h3>âš ï¸ ä¸æ„¿æ„ç»­ä¿çš„å®¢æˆ·ç¾¤ä½“</h3>
                        <div class="group-item">
                            <strong>å¹´è½»å•èº«æ— ç†èµ”å®¢æˆ·</strong>
                            <div class="non-renewal-rate">ç»­ä¿ç‡: 9.8% (92äºº)</div>
                            <div>å¹´é¾„: 29.5å²ä»¥ä¸‹, å•èº«, æ— ç†èµ”è®°å½•</div>
                            <div>ç‰¹å¾: é£é™©æ„è¯†ä½ã€å®¶åº­è´£ä»»è½»ã€å¯¹ä¿é™©ä»·å€¼è®¤çŸ¥ä¸è¶³</div>
                        </div>
                        <div class="group-item">
                            <strong>å¹´è½»å·²å©šä½èŒä¸šå®¢æˆ·</strong>
                            <div class="non-renewal-rate">ç»­ä¿ç‡: 30.4% (23äºº)</div>
                            <div>å¹´é¾„: 29.5å²ä»¥ä¸‹, å·²å©š, ä½èŒä¸šç­‰çº§</div>
                            <div>ç‰¹å¾: æ”¶å…¥æœ‰é™ã€ç»æµå‹åŠ›å¤§ã€å¹´è½»</div>
                        </div>
                        <div class="group-item">
                            <strong>è€å¹´å•èº«å®¢æˆ·</strong>
                            <div class="non-renewal-rate">ç»­ä¿ç‡: 36.6% (82äºº)</div>
                            <div>å¹´é¾„: 60å²ä»¥ä¸Š, å•èº«</div>
                            <div>ç‰¹å¾: å®¶åº­è´£ä»»è½»ã€å¯èƒ½ç»æµæ¡ä»¶æœ‰é™</div>
                        </div>
                        <div class="group-item">
                            <strong>å¹´è½»å•èº«æœ‰ç†èµ”å®¢æˆ·</strong>
                            <div class="non-renewal-rate">ç»­ä¿ç‡: 45.0% (20äºº)</div>
                            <div>å¹´é¾„: 29.5å²ä»¥ä¸‹, å•èº«, æœ‰ç†èµ”è®°å½•</div>
                            <div>ç‰¹å¾: æœ‰ç†èµ”ä½“éªŒä½†é£é™©æ„è¯†ç›¸å¯¹è¾ƒä½</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸ’¡ å…³é”®å½±å“å› ç´ </h2>
                <div class="feature-importance">
                    <h3>æœ€é‡è¦çš„å†³ç­–å› ç´  (æŒ‰é‡è¦æ€§æ’åº)</h3>
                    <div class="feature-item">
                        <strong>1. å¹´é¾„å› ç´ </strong>
                        <div>â€¢ 29.5å²æ˜¯å…³é”®åˆ†ç•Œç‚¹</div>
                        <div>â€¢ å¹´é¾„è¶Šå¤§ï¼Œç»­ä¿æ¦‚ç‡è¶Šé«˜</div>
                        <div>â€¢ å¹´é¾„åæ˜ é£é™©æ„è¯†å’Œç»æµèƒ½åŠ›</div>
                    </div>
                    <div class="feature-item">
                        <strong>2. å©šå§»çŠ¶å†µå› ç´ </strong>
                        <div>â€¢ å·²å©šå®¢æˆ·ç»­ä¿æ¦‚ç‡æ˜¾è‘—é«˜äºå•èº«/ç¦»å¼‚å®¢æˆ·</div>
                        <div>â€¢ å·²å©šå®¢æˆ·å®¶åº­è´£ä»»æ„Ÿæ›´å¼º</div>
                        <div>â€¢ å·²å©šå®¢æˆ·å¯¹å®¶åº­ä¿éšœéœ€æ±‚æ›´å¤§</div>
                    </div>
                    <div class="feature-item">
                        <strong>3. èŒä¸šç­‰çº§å› ç´ </strong>
                        <div>â€¢ é«˜èŒä¸šç­‰çº§å®¢æˆ·ç»­ä¿æ¦‚ç‡æ›´é«˜</div>
                        <div>â€¢ é«˜èŒä¸šå®¢æˆ·æ”¶å…¥æ›´ç¨³å®š</div>
                        <div>â€¢ é«˜èŒä¸šå®¢æˆ·é£é™©æ„è¯†æ›´å¼º</div>
                    </div>
                    <div class="feature-item">
                        <strong>4. ç†èµ”å†å²å› ç´ </strong>
                        <div>â€¢ æœ‰ç†èµ”å†å²çš„å®¢æˆ·ç»­ä¿æ¦‚ç‡æ›´é«˜</div>
                        <div>â€¢ ç†èµ”ä½“éªŒå¢å¼ºå®¢æˆ·å¯¹ä¿é™©ä»·å€¼çš„è®¤çŸ¥</div>
                        <div>â€¢ ç†èµ”ä½“éªŒå½±å“å®¢æˆ·å¯¹ä¿é™©å…¬å¸çš„ä¿¡ä»»</div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸ¯ ä¸šåŠ¡ç­–ç•¥å»ºè®®</h2>
                <div class="insights">
                    <h3>é’ˆå¯¹é«˜ç»­ä¿æ¦‚ç‡å®¢æˆ· (ç»­ä¿ç‡ > 80%)</h3>
                    <ul>
                        <li><strong>ä¸­å¹´é«˜èŒä¸šå®¢æˆ·</strong>: æä¾›é«˜ç«¯ä¿é™©äº§å“ï¼Œé‡ç‚¹ç»´æŠ¤ï¼ŒVIPæœåŠ¡</li>
                        <li><strong>ä¸­å¹´ä½èŒä¸šå®¢æˆ·</strong>: æä¾›æ ‡å‡†ä¿é™©äº§å“ï¼Œç¨³å®šæœåŠ¡ï¼Œä¿æŒæ»¡æ„åº¦</li>
                        <li><strong>è€å¹´å·²å©šå®¢æˆ·</strong>: æä¾›å¥åº·ä¿é™©äº§å“ï¼Œå¥åº·ç®¡ç†æœåŠ¡</li>
                        <li><strong>å¹´è½»å·²å©šé«˜èŒä¸šå®¢æˆ·</strong>: æä¾›å®¶åº­ä¿é™©å¥—é¤ï¼Œå®¶åº­ä¿éšœæœåŠ¡</li>
                    </ul>
                    
                    <h3>é’ˆå¯¹ä½ç»­ä¿æ¦‚ç‡å®¢æˆ· (ç»­ä¿ç‡ < 50%)</h3>
                    <ul>
                        <li><strong>å¹´è½»å•èº«æ— ç†èµ”å®¢æˆ·</strong>: è®¾è®¡é€‚åˆå¹´è½»äººçš„ä¿é™©äº§å“ï¼ŒåŠ å¼ºå®¢æˆ·æ•™è‚²</li>
                        <li><strong>å¹´è½»å·²å©šä½èŒä¸šå®¢æˆ·</strong>: æä¾›ç»æµå‹ä¿é™©äº§å“ï¼Œæé«˜æ€§ä»·æ¯”</li>
                        <li><strong>è€å¹´å•èº«å®¢æˆ·</strong>: æä¾›ä¸ªæ€§åŒ–å¥åº·ä¿é™©ï¼Œä¸ªæ€§åŒ–æœåŠ¡</li>
                        <li><strong>å¹´è½»å•èº«æœ‰ç†èµ”å®¢æˆ·</strong>: åŸºäºç†èµ”ä½“éªŒè®¾è®¡äº§å“ï¼ŒåŠ å¼ºç†èµ”æœåŠ¡</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸ“ˆ æ— å½’ä¸€åŒ–å¤„ç†çš„ä¼˜åŠ¿</h2>
                <div class="insights">
                    <h3>ä¸ºä»€ä¹ˆé€‰æ‹©æ— å½’ä¸€åŒ–å¤„ç†ï¼Ÿ</h3>
                    <ul>
                        <li><strong>ä¿æŒåŸå§‹ç‰¹å¾å«ä¹‰</strong>: å†³ç­–é˜ˆå€¼å…·æœ‰å®é™…ä¸šåŠ¡æ„ä¹‰</li>
                        <li><strong>æ˜“äºè§£é‡Š</strong>: å¹´é¾„29.5å²ã€èŒä¸šç­‰çº§2.5ç­‰é˜ˆå€¼ç›´è§‚æ˜“æ‡‚</li>
                        <li><strong>ä¸šåŠ¡å‹å¥½</strong>: å†³ç­–è§„åˆ™ç¬¦åˆä¸šåŠ¡é€»è¾‘</li>
                        <li><strong>è®¡ç®—æ•ˆç‡é«˜</strong>: æ— éœ€é¢å¤–çš„å½’ä¸€åŒ–è®¡ç®—</li>
                        <li><strong>ä¿æŒæ•°æ®çœŸå®æ€§</strong>: ä¸æ”¹å˜åŸå§‹æ•°æ®çš„åˆ†å¸ƒç‰¹å¾</li>
                    </ul>
                    
                    <h3>å…³é”®é˜ˆå€¼è§£é‡Š</h3>
                    <ul>
                        <li><strong>å¹´é¾„ â‰¤ 29.50</strong>: 29.5å²æ˜¯å¹´è½»ä¸æˆç†Ÿçš„åˆ†ç•Œç‚¹</li>
                        <li><strong>å¹´é¾„ â‰¤ 60.50</strong>: 60.5å²æ˜¯ä¸­å¹´ä¸è€å¹´çš„åˆ†ç•Œç‚¹</li>
                        <li><strong>å©šå§»çŠ¶å†µ â‰¤ 1.50</strong>: åŒºåˆ†å•èº«/ç¦»å¼‚ä¸å·²å©šå®¢æˆ·</li>
                        <li><strong>èŒä¸š â‰¤ 2.50</strong>: åŒºåˆ†ä½èŒä¸šç­‰çº§ä¸é«˜èŒä¸šç­‰çº§</li>
                        <li><strong>ç†èµ”å†å² â‰¤ 0.50</strong>: åŒºåˆ†æœ‰æ— ç†èµ”ä½“éªŒ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å†³ç­–æ ‘æ•°æ®
        const treeData = {
            name: "å¹´é¾„ â‰¤ 29.50",
            children: [
                {
                    name: "å©šå§»çŠ¶å†µ â‰¤ 1.50",
                    children: [
                        {
                            name: "ç†èµ”å†å² â‰¤ 0.50",
                            children: [
                                { name: "é¢„æµ‹: ä¸ç»­ä¿ (9.8%)" },
                                { name: "é¢„æµ‹: ä¸ç»­ä¿ (45.0%)" }
                            ]
                        },
                        {
                            name: "èŒä¸š â‰¤ 2.50",
                            children: [
                                { name: "é¢„æµ‹: ä¸ç»­ä¿ (30.4%)" },
                                { name: "é¢„æµ‹: ç»­ä¿ (87.4%)" }
                            ]
                        }
                    ]
                },
                {
                    name: "å¹´é¾„ â‰¤ 60.50",
                    children: [
                        {
                            name: "èŒä¸š â‰¤ 2.50",
                            children: [
                                { name: "é¢„æµ‹: ç»­ä¿ (93.0%)" },
                                { name: "é¢„æµ‹: ç»­ä¿ (100.0%)" }
                            ]
                        },
                        {
                            name: "å©šå§»çŠ¶å†µ â‰¤ 1.50",
                            children: [
                                { name: "é¢„æµ‹: ä¸ç»­ä¿ (36.6%)" },
                                { name: "é¢„æµ‹: ç»­ä¿ (92.1%)" }
                            ]
                        }
                    ]
                }
            ]
        };
        
        // è®¾ç½®SVG
        const svg = d3.select("#treeSVG");
        const width = 1200;
        const height = 800;
        
        // åˆ›å»ºæ ‘å¸ƒå±€
        const tree = d3.tree().size([height - 100, width - 200]);
        const root = d3.hierarchy(treeData);
        tree(root);
        
        // ç»˜åˆ¶è¿æ¥çº¿
        svg.selectAll(".link")
            .data(root.links())
            .enter().append("path")
            .attr("class", "tree-link")
            .attr("d", d3.linkHorizontal()
                .x(d => d.y)
                .y(d => d.x));
        
        // ç»˜åˆ¶èŠ‚ç‚¹
        const nodes = svg.selectAll(".node")
            .data(root.descendants())
            .enter().append("g")
            .attr("class", "node")
            .attr("transform", d => "translate(" + d.y + "," + d.x + ")");
        
        // æ·»åŠ èŠ‚ç‚¹åœ†åœˆ
        nodes.append("circle")
            .attr("r", 8)
            .attr("class", d => d.children ? "tree-node tree-node-internal" : "tree-node tree-node-leaf");
        
        // æ·»åŠ èŠ‚ç‚¹æ–‡æœ¬
        nodes.append("text")
            .attr("dy", "0.35em")
            .attr("x", d => d.children ? -12 : 12)
            .attr("text-anchor", d => d.children ? "end" : "start")
            .attr("class", "node-text")
            .text(d => d.data.name);
        
        // æ·»åŠ è¿æ¥çº¿æ ‡ç­¾
        svg.selectAll(".link-label")
            .data(root.links())
            .enter().append("text")
            .attr("class", "link-text")
            .attr("transform", d => {
                const midPoint = {
                    x: (d.source.x + d.target.x) / 2,
                    y: (d.source.y + d.target.y) / 2
                };
                return "translate(" + midPoint.y + "," + midPoint.x + ")";
            })
            .text(d => d.data.condition || "");
    </script>
</body>
</html> 